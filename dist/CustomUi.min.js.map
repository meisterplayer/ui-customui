{"version":3,"sources":["webpack:///webpack/bootstrap aa1c2dd7041d55f30e18","webpack:///./src/js/standard/BaseElement.js","webpack:///./src/js/lib/constants.js","webpack:///./src/js/lib/utilities.js","webpack:///./index.js","webpack:///./src/js/CustomUi.js","webpack:///./src/js/lib/event-classes.js","webpack:///./src/js/lib/event-node-functions.js","webpack:///./src/js/lib/standard-node-functions.js","webpack:///./src/js/standard/CaptionsButton.js","webpack:///./src/js/standard/FullscreenButton.js","webpack:///./src/js/standard/PlayButton.js","webpack:///./src/js/standard/PlaylistButtons.js","webpack:///./src/js/standard/QualityButton/bitrate.js","webpack:///./src/js/standard/QualityButton/index.js","webpack:///./src/js/standard/QualityButton/resolution.js","webpack:///./src/js/standard/SeekBar.js","webpack:///./src/js/standard/SeekBarPreview.js","webpack:///./src/js/standard/Spinner.js","webpack:///./src/js/standard/StepBackButton.js","webpack:///./src/js/standard/StepForwardButton.js","webpack:///./src/js/standard/TimeDisplay.js","webpack:///./src/js/standard/VolumeSlider.js","webpack:///./src/js/standard/createStandardElement.js","webpack:///./package.json"],"names":["BaseElement","constructor","meister","isMobile","browser","element","eventStore","onItemLoaded","on","bind","onItemUnloaded","hook","handler","push","name","one","block","classListAdd","classNames","forEach","className","classList","add","classListRemove","remove","getNode","CUSTOM_UI_EVENT_PREFIX","MEISTER_DATA_EVENTS_ATTR","MEISTER_DATA_STANDARD_ATTR","extractNodesWithSelector","rootNode","selector","Array","prototype","slice","call","querySelectorAll","replaceNodeWith","oldNode","newNode","parentNode","replaceChild","CustomUi","Meister","Ui","config","ui","console","error","pluginName","utils","isDOMNode","processTemplate","xhr","XMLHttpRequest","open","responseType","addEventListener","onTemplateRequestSuccess","onTemplateRequestError","send","pluginVersion","packageJson","version","loadEvent","target","status","response","activeElement","firstChild","draw","remoteTemplateReady","extractStandardNodes","createLoadStandardElement","standard","extractEventNodes","createRegisterDataEvents","registeredCallback","controlsWrapper","appendChild","registerPlugin","CustomUiEvent","domNode","eventName","eventType","domEvent","event","CustomUiElementRegisteredEvent","events","id","nodeArray","getAttribute","concat","extractEvents","eventString","split","filter","map","trim","onElementRegistered","registerDataEvents","rawAttributes","eventsArray","length","domNodeId","handleName","meisterEventName","e","trigger","formatElementName","elementName","toLowerCase","loadStandardElement","standardElement","createStandardElement","CaptionsButton","document","createElement","captionSelector","onClick","captions","hide","body","removeEventListener","innerHTML","stopPropagation","hasAttribute","contains","show","newLang","selectLang","item","isArray","sort","a","b","titleA","title","toUpperCase","titleB","Localization","get","lang","caption","language","code","option","createOption","languageOption","textContent","charAt","setAttribute","selected","languageCode","newLanguage","newCaption","find","FullscreenButton","audioOnly","toggleFullscreen","toggleIcon","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","isFullscreen","cancelFullscreen","requestFullscreen","PlayButton","type","isLive","timeInfo","onItemTimeInfo","disablePauseWithLive","playing","pause","play","PlaylistButtons","prevButton","nextButton","playlistInfo","onPlaylistInfo","currentIndex","prepareBitrateOption","bitrate","index","transform","qualityOption","selectBitrate","bitrates","silent","RESOLUTION","BITRATE","QualityButton","qualitySelector","info","onItemBitrates","qualityMapping","qualityMappingMode","mapping","newBitrateIndex","parseInt","selectOption","bitrateIndex","prepareResolutionMapping","debug","bitrateInfo","optionOpts","bitrateToResolution","prepareResolutionOption","selectResolution","Number","isFinite","expandQualityMapping","from","to","resolution","setResolution","targetMapping","warn","hasBitrate","updateBar","percentage","style","webkitTransform","SeekBar","isDragging","loadedMetadata","mousedownX","pagedownX","seekBarPadding","seekBarDuration","seekBarBuffered","seekBarFill","seekBarHighlight","seekBarFigure","left","preview","onTimeUpdate","onPlayerSeek","onPlayerProgress","points","onAdCuePoints","onAdEnded","onMouseOver","onMouseMove","onMouseOut","onSeekDown","onSeekMove","preventDefault","normalizedProgress","normalizeEventPosition","updateFigure","update","updateCurrentTime","onSeekUp","window","TouchEvent","touches","wasPlaying","Object","keys","adID","hasDVR","currentTime","duration","timeRanges","buffered","currentTimeRangeIndex","findTimerange","targetTime","end","playOffset","pageX","rect","getBoundingClientRect","offsetX","relativePosition","i","setPoint","time","self","createPoint","t","elem","elementUtils","pointPosition","adPodInfo","ad","getAdPodInfo","getElementById","getTimeOffset","position","offsetWidth","figureLeftPercentage","start","SeekbarPreview","seekBarPreviewImage","src","seekBarPreviewTime","images","modifiedDuration","offsetParentWidth","offsetParent","rightBoundary","pixelsRight","getImageByTime","timeString","timeToHMS","Math","round","image","Spinner","spinner","spinnerMessage","hideSpinner","showSpinner","message","fromBuffering","StepBackButton","timeOffset","stepBack","StepForwardButton","stepForward","LIVE_THRESHOLD","TimeDisplay","isIE","isEdge","seperator","adTimer","adDuration","createTimeString","behindLive","roundTime","VolumeSlider","isiOS","iosPlaysInline","volumeButton","sliderWrapper","volumeBar","volumeBarFill","volumeBarFigure","onVolumeChange","showSlider","onDown","onMove","onUp","muted","volume","leftPercentage","updateIcon","clearIcons","iconNum"],"mappings":"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","file":"dist/CustomUi.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap aa1c2dd7041d55f30e18","class BaseElement {\n    constructor(meister) {\n        this.meister = meister;\n        this.isMobile = this.meister.browser.isMobile;\n\n        this.element = null;\n\n        this.eventStore = [];\n\n        if (this.onItemLoaded) {\n            this.on('itemLoaded', this.onItemLoaded.bind(this));\n        }\n\n        if (this.onItemUnloaded) {\n            this.on('itemUnloaded', this.onItemUnloaded.bind(this));\n        }\n    }\n\n    on(hook, handler) {\n        this.eventStore.push(...this.meister.on(hook, handler, this.constructor.name));\n    }\n\n    one(hook, block, handler) {\n        this.eventStore.push(this.meister.one(hook, block, handler, this.constructor.name));\n    }\n\n    classListAdd(element, ...classNames) {\n        classNames.forEach(className => { element.classList.add(className); });\n\n        if (this.isMobile) {\n            element.classList.add('pf-mobile');\n        }\n    }\n\n    classListRemove(element, ...classNames) {\n        classNames.forEach(className => { element.classList.remove(className); });\n    }\n\n    getNode() {\n        return this.element;\n    }\n}\n\nexport default BaseElement;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/BaseElement.js","/**\n* @constant\n* @memberof module:CustomUi\n* @type {String}\n* @default\n*/\nexport const CUSTOM_UI_EVENT_PREFIX = 'ui';\n\n/**\n * @constant\n * @memberof module:CustomUi\n * @type {String}\n * @default\n */\nexport const MEISTER_DATA_EVENTS_ATTR = 'data-mstr-events';\n\n/**\n* @constant\n* @memberof module:CustomUi\n* @type {String}\n* @default\n */\nexport const MEISTER_DATA_STANDARD_ATTR = 'data-mstr-standard';\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/constants.js","/**\n * Returns a list of all child nodes that match the passed selector.\n * @memberof module:CustomUi\n * @param  {HTMLElement} rootNode The root node from which to search for relevant nodes.\n * @return {HTMLElement[]}        Array with nodes that match the selector.\n */\nexport function extractNodesWithSelector(rootNode, selector) {\n    return Array.prototype.slice.call(rootNode.querySelectorAll(selector));\n}\n\n/**\n * Replace one node with another node.\n * @memberof module:CustomUi\n * @param  {HTMLElement} oldNode Node to be replaced.\n * @param  {HTMLElement} newNode New node to insert.\n * @return {?HTMLElement}        Old node, or null if replacing was not possible.\n */\nexport function replaceNodeWith(oldNode, newNode) {\n    if (!oldNode.parentNode) { return null; }\n\n    return oldNode.parentNode.replaceChild(newNode, oldNode);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/utilities.js","import CustomUi from './src/js/CustomUi';\n\nexport default CustomUi;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","/** @module CustomUi */\nimport { extractEventNodes, createRegisterDataEvents } from './lib/event-node-functions';\nimport { extractStandardNodes, createLoadStandardElement } from './lib/standard-node-functions';\nimport packageJson from '../../package.json';\n\n/**\n * Plugin that can be used to supply your own HTMLElements that make up the ui. By specifying\n * data-attributes you can customize the functionality of the ui.\n * @memberof module:CustomUi\n */\nclass CustomUi extends Meister.Ui {\n    /**\n     * Create a new CustomUi.\n     * @memberof module:CustomUi\n     * @param {Object} config Configuration for the plugin.\n     * @param {Meister} meister Meister instance which is instantiating a new CustomUi.\n     */\n    constructor(config, meister) {\n        super(config, meister);\n\n        if (!this.config.ui) {\n            console.error(`${CustomUi.pluginName}: No ui node or url defined, plugin will not load.`);\n            // HACK: This overrides constructor behaviour and makes it not return an instance...\n            return [];\n        }\n\n        if (this.meister.utils.isDOMNode(this.config.ui)) {\n            this.element = this.config.ui;\n            this.processTemplate();\n        } else {\n            const xhr = new XMLHttpRequest();\n            xhr.open('GET', this.config.ui);\n            xhr.responseType = 'document';\n            xhr.addEventListener('load', this.onTemplateRequestSuccess.bind(this), false);\n            xhr.addEventListener('error', this.onTemplateRequestError.bind(this), false);\n            xhr.send();\n        }\n\n        // Consistent return.\n        return this;\n    }\n\n    /**\n     * Name of the plugin that is used for registering it.\n     * @return {String}\n     */\n    static get pluginName() {\n        return 'CustomUi';\n    }\n\n    static get pluginVersion() {\n        return packageJson.version;\n    }\n\n    /**\n     * Check the response status, and on a succes extract the first node to use as the custom ui.\n     * @param {ProgressEvent} loadEvent Event object from the XMLHttpRequest.\n     */\n    onTemplateRequestSuccess(loadEvent) {\n        if (loadEvent.target.status < 200 || loadEvent.target.status >= 400) {\n            this.onTemplateRequestError(loadEvent);\n            return;\n        }\n\n        this.element = loadEvent.target.response.activeElement.firstChild;\n        this.processTemplate();\n        // Force a redraw of the ui.\n        this.draw();\n        // Notify user that the remote template has been parsed and drawn successfully.\n        if (this.config.remoteTemplateReady) { this.config.remoteTemplateReady(); }\n    }\n\n    /**\n     * Log the XMLHttpRequest to the console.\n     * @param {ProgressEvent} loadEvent Event object from the XMLHttpRequest.\n     */\n    onTemplateRequestError(loadEvent) {\n        console.error(`${CustomUi.pluginName}: error loading the template. `, loadEvent.target);\n    }\n\n    /**\n     * Replace marked nodes with their StandardUi equivalents, and register events on the specified nodes.\n     */\n    processTemplate() {\n        extractStandardNodes(this.element).forEach(createLoadStandardElement(this.meister, this.config.standard));\n        extractEventNodes(this.element).forEach(createRegisterDataEvents(this.meister, this.config.registeredCallback));\n    }\n\n    /**\n     * Insert the Ui into the DOM.\n     */\n    draw() {\n        if (!this.element) { return; }\n\n        this.controlsWrapper.appendChild(this.element);\n    }\n}\n\nMeister.registerPlugin(CustomUi.pluginName, CustomUi);\nexport default CustomUi;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/CustomUi.js","/**\n * An event used as a callback arguments in custom ui events proxying DOM events.\n * @typedef {Object} module:CustomUi~CustomUiEvent\n * @property {Meister} meister - Meister instance from which the event originated.\n * @property {HTMLElement} domNode - Node from which the DOM event originated.\n * @property {String} eventName - The name of the event that originated from meister.\n * @property {String} eventType - The name of the DOM event.\n * @property {Event} domEvent - The original DOM event that was triggered.\n */\nexport class CustomUiEvent {\n    /**\n     * Create a CustomUiEvent.\n     * @memberof module:CustomUi\n     * @param {Meister} meister Meister instance from which the event originated.\n     * @param {HTMLElement} domNode Node from which the DOM event originated.\n     * @param {String} eventName The name of the event that originated from meister.\n     * @param {String} eventType The name of the DOM event.\n     * @param {Event} domEvent The original DOM event that was triggered.\n     */\n    constructor(meister, domNode, eventName, eventType, domEvent) {\n        this.eventName = eventName;\n        this.eventType = eventType;\n        this.event = domEvent;\n        this.meister = meister;\n        this.element = domNode;\n    }\n}\n\n/**\n * An event used as a callback argument when all listeners have been attached to a custom DOM element.\n * @typedef {Object} module:CustomUi~CustomUiElementRegisteredEvent\n * @property {Meister} meister - Meister instance from which the event originated.\n * @property {HTMLElement} domNode - Node on which the events were registered.\n * @property {String[]} events - Array with all the events that were registered on the HTMLElement.\n * @property {String} id - The id of the node on which the events were registered.\n */\nexport class CustomUiElementRegisteredEvent {\n    /**\n     * Create a CustomUiElementRegisteredEvent.\n     * @memberof module:CustomUi\n     * @param {Meister} meister Meister instance from which the event originated.\n     * @param {HTMLElement} domNode Node on which the events were registered.\n     * @param {String[]} events Array with all the events that were registered on the HTMLElement.\n     */\n    constructor(meister, domNode, events) {\n        this.meister = meister;\n        this.element = domNode;\n        this.events = events;\n        this.id = domNode.id;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/event-classes.js","import { CUSTOM_UI_EVENT_PREFIX, MEISTER_DATA_EVENTS_ATTR } from './constants';\nimport { extractNodesWithSelector } from './utilities';\nimport { CustomUiEvent, CustomUiElementRegisteredEvent } from './event-classes';\n\n/**\n * Returns a list of all child nodes that have meister event data properties. Also includes the root node\n * should it have the property.\n * @memberof module:CustomUi\n * @param  {HTMLElement} rootNode The root node from which to search for relevant nodes.\n * @return {HTMLElement[]}        Array with nodes that have the meister event data property.\n */\nexport function extractEventNodes(rootNode) {\n    const nodeArray = extractNodesWithSelector(rootNode, `[${MEISTER_DATA_EVENTS_ATTR}]`);\n\n    if (rootNode.getAttribute(MEISTER_DATA_EVENTS_ATTR)) {\n        return nodeArray.concat(rootNode);\n    }\n\n    return nodeArray;\n}\n\n/**\n * Extracts individual strings from a single comma separated string while trimming whitespace and\n * filtering just whitespace entries.\n * @memberof module:CustomUi\n * @param  {String} eventString Comma separated string of event names.\n * @return {String[]}           Array with event names.\n */\nfunction extractEvents(eventString) {\n    return eventString.split(',')\n        .filter(eventName => !!eventName) // filter empty entries.\n        .map(eventName => eventName.trim()) // remove leading/trailing whitespace.\n        .filter(eventName => !!eventName); // remove entries that were only spaces.\n}\n\n/**\n * Callback that is called after all events are registered to an HTMLElement.\n * @callback module:CustomUi~onElementRegistered\n * @param {module:CustomUi~CustomUiElementRegisteredEvent} customUiElementRegisteredEvent\n */\n\n/**\n * Create a function that can be used to map dom events to meister events for html nodes.\n * @memberof module:CustomUi\n * @param  {Meister} meister      Meister instance to be used in the event callbacks.\n * @param  {module:CustomUi~onElementRegistered} [onElementRegistered=()=>{}] Callback to be used when all events have been registered on an HTMLElement.\n * @return {module:CustomUi~registerDataEvents} Function that can be used to register events to an HTMLElement.\n */\nexport function createRegisterDataEvents(meister, onElementRegistered = () => {}) {\n    /**\n     * Map events in the MEISTER_DATA_EVENTS_ATTR data attribute to meister events and call a\n     * callback when done.\n     * @function module:CustomUi~registerDataEvents\n     * @param  {HTMLElement} domNode Node with data-mstr-events that need to be mapped to meister custom ui events.\n     */\n    return function registerDataEvents(domNode) {\n        const rawAttributes = domNode.getAttribute(MEISTER_DATA_EVENTS_ATTR);\n        if (!rawAttributes) { return; }\n\n        const eventsArray = extractEvents(rawAttributes);\n        if (eventsArray.length < 1) { return; }\n\n        const domNodeId = domNode.id ? `${domNode.id}:` : '';\n        const handleName = `${CUSTOM_UI_EVENT_PREFIX}:${domNodeId}`;\n\n        eventsArray.forEach((eventName) => {\n            const meisterEventName = `${handleName}${eventName}`;\n            domNode.addEventListener(eventName, (e) => {\n                meister.trigger(meisterEventName, new CustomUiEvent(meister, domNode, meisterEventName, eventName, e));\n            });\n        });\n\n        onElementRegistered(new CustomUiElementRegisteredEvent(meister, domNode, eventsArray));\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/event-node-functions.js","import { MEISTER_DATA_STANDARD_ATTR } from './constants';\nimport { extractNodesWithSelector, replaceNodeWith } from './utilities';\nimport createStandardElement from '../standard/createStandardElement';\n\n/**\n * Returns a list of all child nodes that have meister standard data properties.\n * @memberof module:CustomUi\n * @param  {HTMLElement} rootNode The root node from which to search for relevant nodes.\n * @return {HTMLElement[]}        Array with nodes that have the meister standard data property.\n */\nexport function extractStandardNodes(rootNode) {\n    return extractNodesWithSelector(rootNode, `[${MEISTER_DATA_STANDARD_ATTR}]`);\n}\n\n/**\n * Removes trailing/leading whitespace from the element name and makes it lowercase.\n * @memberof module:CustomUi\n * @param  {String} [elementName=''] Name of the standard element from the HTML element.\n * @return {String}             Formatted elementName.\n */\nfunction formatElementName(elementName = '') {\n    return elementName.trim().toLowerCase();\n}\n\n/**\n * Create a function that can be used to replace nodes with Standard Ui elements.\n * @memberof module:CustomUi\n * @param  {Meister} meister     Meister instance to be used in the event callbacks.\n * @param  {Object} [config={}]  StandardUi config to be used when creating standard components.\n * @return {module:CustomUi~loadStandardElement} Function that can be used to replace nodes with Standard Ui elements.\n */\nexport function createLoadStandardElement(meister, config = {}) {\n    /**\n     * Replace nodes with the Standard Ui element specified in MEISTER_DATA_STANDARD_ATTR.\n     * @function module:CustomUi~loadStandardElement\n     * @param  {HTMLElement} domNode Node with data-mstr-standard that should be replaced with a Standard Ui element.\n     */\n    return function loadStandardElement(domNode) {\n        const elementName = formatElementName(domNode.getAttribute(MEISTER_DATA_STANDARD_ATTR));\n        if (!elementName) { return; }\n\n        const standardElement = createStandardElement(meister, config, elementName);\n        if (!standardElement) {\n            console.error(`No standard element with name '${elementName}'`);\n        }\n\n        replaceNodeWith(domNode, standardElement.getNode());\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/standard-node-functions.js","import BaseElement from './BaseElement';\n\nclass CaptionsButton extends BaseElement {\n    constructor(meister) {\n        super(meister);\n\n        this.element = document.createElement('div');\n        this.classListAdd(this.element, 'pf-ui-element', 'pf-ui-element-right', 'pf-ui-element-active');\n        this.classListAdd(this.element, 'pf-icon', 'pf-icon_icCc');\n        this.classListAdd(this.element, 'pf-ui-element-hidden');\n\n        this.captionSelector = document.createElement('div');\n        this.classListAdd(this.captionSelector, 'pf-quality-selector', 'hidden');\n\n        this.meister.controlsWrapper.appendChild(this.captionSelector);\n\n        this.element.addEventListener('click', this.onClick.bind(this));\n\n        this.captions = null;\n        this.on('itemLoaded', this.onItemLoaded.bind(this));\n\n        // Store this eventfunction in the instance for easier removal.\n        this.hide = () => {\n            this.classListAdd(this.captionSelector, 'hidden');\n            document.body.removeEventListener('click', this.hide);\n        };\n    }\n\n    onItemUnloaded() {\n        this.captionSelector.innerHTML = '';\n        this.captions = null;\n\n        this.classListAdd(this.element, 'pf-ui-element-hidden');\n    }\n\n    onClick(e) {\n        // TODO: Perhaps do this later?\n        e.stopPropagation();\n\n        // Show/hide menu when the button is clicked.\n        if (!e.target.hasAttribute('lang')) {\n            if (this.captionSelector.classList.contains('hidden')) {\n                this.show();\n            } else {\n                this.hide();\n            }\n\n            return;\n        }\n\n        // Element has attribute lang, must be a language option\n        const newLang = e.target.getAttribute('lang');\n        this.selectLang(newLang);\n        this.hide();\n    }\n\n    show() {\n        this.classListRemove(this.captionSelector, 'hidden');\n        document.body.addEventListener('click', this.hide);\n    }\n\n    onItemLoaded(e) {\n        if (!e.item || !e.item.captions) return;\n\n        // Slice to make a copy of the array;\n        if (!Array.isArray(e.item.captions)) {\n            this.captions = [e.item.captions];\n        } else {\n            this.captions = e.item.captions.slice(0).sort((a, b) => {\n                const titleA = a.title.toUpperCase();\n                const titleB = b.title.toUpperCase();\n                if (titleA < titleB) return -1;\n                if (titleA > titleB) return 1;\n\n                return 0;\n            });\n        }\n\n        // Add an option to turn cc off.\n        this.captions.push({ title: this.meister.Localization.get('NONE'), lang: 'none' });\n\n        this.classListRemove(this.element, 'pf-ui-element-hidden');\n\n        this.captions.forEach((caption) => {\n            const language = caption.title;\n            const code = caption.lang;\n            caption.option = this.createOption(language, code);\n        });\n\n        this.classListRemove(this.element, 'pf-ui-element-hidden');\n    }\n\n    createOption(language, code) {\n        const languageOption = document.createElement('div');\n        languageOption.classList.add('pf-quality-option');\n        languageOption.classList.add('pf-ui-element-active');\n\n        languageOption.textContent = language.charAt(0).toUpperCase() + language.toLowerCase().slice(1);\n\n        languageOption.setAttribute('lang', code);\n\n        languageOption.selected = document.createElement('div');\n        languageOption.selected.classList.add('pf-quality-option-select');\n        languageOption.selected.classList.add('pf-icon');\n        // Check for mobile.\n        if (this.isMobile) languageOption.selected.classList.add('pf-mobile');\n        languageOption.appendChild(languageOption.selected);\n\n        this.captionSelector.appendChild(languageOption);\n\n        languageOption.addEventListener('click', (e) => this.onClick(e));\n\n        return languageOption;\n    }\n\n    selectLang(languageCode) {\n        this.captions.forEach((caption) => {\n            caption.option.selected.classList.remove('pf-icon_icCheck');\n        });\n\n        if (languageCode === 'none') {\n            this.meister.trigger('requestCaptions', { newLanguage: 'none' });\n            return;\n        }\n\n        const newCaption = this.captions.find((caption) => caption.lang === languageCode);\n\n        newCaption.option.selected.classList.add('pf-icon_icCheck');\n        this.meister.trigger('requestCaptions', newCaption);\n    }\n}\n\nexport default CaptionsButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/CaptionsButton.js","import BaseElement from './BaseElement';\n\nclass FullscreenButton extends BaseElement {\n    constructor(meister) {\n        super(meister);\n\n        this.element = document.createElement('div');\n\n        this.classListAdd(this.element, 'pf-ui-element', 'pf-ui-element-right');\n        if (this.meister.config.audioOnly) {\n            this.classListAdd(this.element, 'pf-ui-element-inactive');\n        } else {\n            this.classListAdd(this.element, 'pf-ui-element-active');\n        }\n\n        this.classListAdd(this.element, 'pf-icon', 'pf-icon_icFullscreen');\n\n        this.element.addEventListener('click', () => this.toggleFullscreen());\n\n        this.on('playerFullscreen', () => this.toggleIcon());\n    }\n\n    toggleIcon() {\n        const fullscreenElement = document.fullscreenElement\n            || document.webkitFullscreenElement\n            || document.mozFullScreenElement;\n\n        if (fullscreenElement) {\n            this.classListAdd(this.element, 'pf-icon_icFullscreenExit');\n            this.classListRemove(this.element, 'pf-icon_icFullscreen');\n        } else {\n            this.classListAdd(this.element, 'pf-icon_icFullscreen');\n            this.classListRemove(this.element, 'pf-icon_icFullscreenExit');\n        }\n    }\n\n    toggleFullscreen() {\n        if (this.meister.isFullscreen) {\n            this.meister.cancelFullscreen();\n        } else {\n            this.meister.requestFullscreen();\n        }\n    }\n}\n\nexport default FullscreenButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/FullscreenButton.js","import BaseElement from './BaseElement';\n\nclass PlayButton extends BaseElement {\n    constructor(meister, config, type = 'normal') {\n        super(meister);\n\n        this.config = config;\n        this.type = type;\n\n        this.element = document.createElement('div');\n        this.classListAdd(this.element, 'pf-ui-element', 'pf-ui-element-left', 'pf-ui-element-active');\n\n        this.isLive = false;\n\n        // Default\n        this.classListAdd(this.element, 'pf-icon');\n        this.classListAdd(this.element, 'pf-icon_icPlay');\n\n        // Register event listeners\n        this.element.addEventListener('click', () => this.onClick());\n\n        this.on('itemTimeInfo', (timeInfo) => this.onItemTimeInfo(timeInfo));\n        this.on('playerPlay', () => this.toggleIcon());\n        this.on('playerPause', () => this.toggleIcon());\n        this.on('itemLoaded', () => this.toggleIcon());\n    }\n\n    onItemTimeInfo(timeInfo) {\n        this.isLive = timeInfo.isLive;\n\n        if (this.isLive && this.config.disablePauseWithLive && this.meister.playing && this.type === 'normal') {\n            this.toggleIcon();\n        }\n    }\n\n    onClick() {\n        if (this.meister.playing) {\n            this.meister.pause(true);\n        } else {\n            this.meister.play(true);\n        }\n    }\n\n    toggleIcon() {\n        if (this.isLive && this.config.disablePauseWithLive && this.meister.playing && this.type === 'normal') {\n            this.classListRemove(this.element, 'pf-icon_icPlay');\n            this.classListRemove(this.element, 'pf-icon_icPause');\n            return;\n        }\n\n        if (this.meister.playing) {\n            this.classListAdd(this.element, 'pf-icon_icPause');\n            this.classListRemove(this.element, 'pf-icon_icPlay');\n        } else {\n            this.classListRemove(this.element, 'pf-icon_icPause');\n            this.classListAdd(this.element, 'pf-icon_icPlay');\n        }\n    }\n}\n\nexport default PlayButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/PlayButton.js","import BaseElement from './BaseElement';\n\nclass PlaylistButtons extends BaseElement {\n    constructor(meister) {\n        super(meister);\n\n        this.element = document.createElement('div');\n        this.classListAdd(this.element, 'pf-ui-wrapper-left');\n        this.classListAdd(this.element, 'pf-ui-element-hidden');\n\n        this.prevButton = document.createElement('div');\n        this.classListAdd(this.prevButton, 'pf-ui-element');\n        this.classListAdd(this.prevButton, 'pf-icon', 'pf-icon_icPrev');\n\n        this.nextButton = document.createElement('div');\n        this.classListAdd(this.nextButton, 'pf-ui-element');\n        this.classListAdd(this.nextButton, 'pf-icon', 'pf-icon_icNext');\n\n        this.prevButton.addEventListener('click', () => this.meister.trigger('playlistPrevious'));\n        this.nextButton.addEventListener('click', () => this.meister.trigger('playlistNext'));\n\n        this.element.appendChild(this.prevButton);\n        this.element.appendChild(this.nextButton);\n\n        this.on('playlistInfo', (playlistInfo) => this.onPlaylistInfo(playlistInfo));\n    }\n\n    onPlaylistInfo(playlistInfo) {\n        // Reset the styles on the buttons.\n        this.classListRemove(this.prevButton, 'pf-ui-element-inactive');\n        this.classListRemove(this.nextButton, 'pf-ui-element-inactive');\n\n        // Don't show playlist controls when there is no playlist.\n        if (playlistInfo.length <= 1) {\n            this.classListAdd(this.element, 'pf-ui-element-hidden');\n            return;\n        }\n\n        // It's the first item, so can't go back.\n        if (playlistInfo.currentIndex === 0) {\n            this.classListAdd(this.prevButton, 'pf-ui-element-inactive');\n            this.classListAdd(this.nextButton, 'pf-ui-element-active');\n        }\n\n        // It's the last item, so can't skip to the next item.\n        if (playlistInfo.currentIndex >= playlistInfo.length - 1) {\n            this.classListAdd(this.prevButton, 'pf-ui-element-active');\n            this.classListAdd(this.nextButton, 'pf-ui-element-inactive');\n        }\n\n        // Show the playlist buttons.\n        this.classListRemove(this.element, 'pf-ui-element-hidden');\n    }\n}\n\nexport default PlaylistButtons;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/PlaylistButtons.js","export function prepareBitrateOption(element, bitrate, index, transform) {\n    const qualityOption = element;\n\n    if (bitrate === 'auto') {\n        qualityOption.textContent = bitrate;\n    } else {\n        qualityOption.textContent = transform(bitrate);\n    }\n\n    qualityOption.setAttribute('index', index);\n}\n\nexport function selectBitrate(bitrates, index, silent) {\n    bitrates.forEach(bitrate => {\n        if (bitrate.index === index) {\n            bitrate.option.selected.classList.add('pf-icon_icCheck');\n        } else {\n            bitrate.option.selected.classList.remove('pf-icon_icCheck');\n        }\n    });\n\n    return silent ? null : index;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/QualityButton/bitrate.js","import BaseElement from '../BaseElement';\n\nimport { prepareBitrateOption, selectBitrate } from './bitrate';\nimport { expandQualityMapping, prepareResolutionMapping, prepareResolutionOption, selectResolution } from './resolution';\n\nconst RESOLUTION = 0;\nconst BITRATE = 1;\n\nclass QualityButton extends BaseElement {\n    constructor(meister, config) {\n        super(meister);\n\n        this.config = config;\n        this.element = document.createElement('div');\n\n        this.classListAdd(this.element, 'pf-ui-element', 'pf-ui-element-right', 'pf-ui-element-active');\n        this.classListAdd(this.element, 'pf-icon', 'pf-icon_icHd');\n        this.classListAdd(this.element, 'pf-ui-element-hidden');\n\n        this.qualitySelector = document.createElement('div');\n        this.classListAdd(this.qualitySelector, 'pf-quality-selector', 'hidden');\n\n        this.meister.controlsWrapper.appendChild(this.qualitySelector);\n\n        this.element.addEventListener('click', (e) => this.onClick(e));\n\n        this.bitrates = null;\n        this.on('itemBitrates', (info) => this.onItemBitrates(info));\n\n        if (Array.isArray(this.config.qualityMapping)) {\n            this.qualityMappingMode = true;\n            this.qualityMapping = this.config.qualityMapping.map(expandQualityMapping);\n        }\n\n        // Store this eventfunction in the instance for easier removal.\n        this.hide = () => {\n            this.classListAdd(this.qualitySelector, 'hidden');\n            document.body.removeEventListener('click', this.hide);\n        };\n    }\n\n    onItemUnloaded() {\n        // Clear any previous bitrates that were present.\n        this.qualitySelector.innerHTML = '';\n        this.bitrates = null;\n\n        this.classListAdd(this.element, 'pf-ui-element-hidden');\n    }\n\n    onClick(e) {\n        // TODO: Perhaps do this later?\n        e.stopPropagation();\n\n        // Show/hide menu when the button is clicked.\n        if (!e.target.hasAttribute('index') && !e.target.mapping) {\n            if (this.qualitySelector.classList.contains('hidden')) {\n                this.show();\n            } else {\n                this.hide();\n            }\n\n            return;\n        }\n\n        // Element has attribute index, must be a bitrate option\n        if (e.target.hasAttribute('index')) {\n            const newBitrateIndex = parseInt(e.target.getAttribute('index'), 10);\n            this.selectOption(newBitrateIndex);\n        }\n\n        if (e.target.mapping) {\n            const newBitrateIndex = parseInt(e.target.mapping.bitrates[0].bitrateIndex, 10);\n            this.selectOption(newBitrateIndex);\n        }\n\n        this.hide();\n    }\n\n    show() {\n        this.classListRemove(this.qualitySelector, 'hidden');\n        document.body.addEventListener('click', this.hide);\n    }\n\n    onItemBitrates(info) {\n        info.bitrates.sort((a, b) => b.bitrate - a.bitrate);\n        this.bitrates = info.bitrates;\n        this.classListRemove(this.element, 'pf-ui-element-hidden');\n\n        if (this.qualityMappingMode) {\n            this.bitrates = prepareResolutionMapping(this.bitrates, this.qualityMapping);\n            this.qualityMapping.forEach(mapping => {\n                if (mapping.bitrates.length < 1) {\n                    if (this.meister.config.debug) console.error('No bitrates available for this mapping', mapping);\n                } else {\n                    // eslint-disable-next-line\n                    mapping.option = this.createOption({\n                        type: RESOLUTION,\n                        mapping,\n                    });\n                }\n            });\n        } else {\n            this.bitrates.forEach(bitrateInfo => {\n                // A bitrate of 0 means auto quality.\n                const bitrate = bitrateInfo.bitrate === 0 ? 'auto' : bitrateInfo.bitrate;\n                // eslint-disable-next-line\n                bitrateInfo.option = this.createOption({\n                    type: BITRATE,\n                    bitrate,\n                    index: bitrateInfo.index,\n                });\n            });\n        }\n        this.selectOption(info.currentIndex, true);\n    }\n\n    createOption(optionOpts) {\n        const qualityOption = document.createElement('div');\n        qualityOption.classList.add('pf-quality-option');\n        qualityOption.classList.add('pf-ui-element-active');\n\n        // When no index is passed we're dealing with resolution mapping.\n        if (optionOpts.type === BITRATE) {\n            const transform = this.config.bitrateToResolution ? this.config.bitrateToResolution : this.meister.utils.bitrateToResolution;\n\n            prepareBitrateOption(qualityOption, optionOpts.bitrate, optionOpts.index, transform);\n        } else if (optionOpts.type === RESOLUTION) {\n            prepareResolutionOption(qualityOption, optionOpts.mapping);\n        }\n\n        qualityOption.selected = document.createElement('div');\n        qualityOption.selected.classList.add('pf-quality-option-select');\n        qualityOption.selected.classList.add('pf-icon');\n        // Check for mobile.\n        if (this.isMobile) qualityOption.selected.classList.add('pf-mobile');\n        qualityOption.appendChild(qualityOption.selected);\n\n        this.qualitySelector.appendChild(qualityOption);\n\n        qualityOption.addEventListener('click', (e) => this.onClick(e));\n\n        return qualityOption;\n    }\n\n    selectOption(index, silent = false) {\n        let bitrateIndex = null;\n\n        if (this.qualityMappingMode) {\n            bitrateIndex = selectResolution(this.qualityMapping, index, silent);\n        } else {\n            bitrateIndex = selectBitrate(this.bitrates, index, silent);\n        }\n\n        if (Number.isFinite(bitrateIndex)) {\n            this.meister.trigger('requestBitrate', {\n                bitrateIndex,\n            });\n        }\n    }\n}\n\nexport default QualityButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/QualityButton/index.js","export function expandQualityMapping(qualityMapping, index) {\n    return {\n        index,\n        bitrates: [],\n        from: qualityMapping.from,\n        to: qualityMapping.to,\n        resolution: qualityMapping.resolution,\n    };\n}\n\nfunction setResolution(bitrate, bitrateIndex, qualityMapping) {\n    const targetMapping = qualityMapping.find(mapping => bitrate > mapping.from && bitrate <= mapping.to);\n    if (!targetMapping) {\n        console.warn(`No resolution found for bitrate: ${bitrate}`);\n        return;\n    }\n\n    targetMapping.bitrates.push({\n        bitrate,\n        bitrateIndex,\n    });\n}\n\nexport function prepareResolutionMapping(bitrates, qualityMapping) {\n    bitrates.forEach(bitrateInfo => setResolution(bitrateInfo.bitrate, bitrateInfo.index, qualityMapping));\n    return bitrates;\n}\n\n\nexport function prepareResolutionOption(element, mapping) {\n    const qualityOption = element;\n\n    if (!mapping.resolution) {\n        console.error('Qualitymapping is missing a resolution-value', mapping);\n    }\n\n    qualityOption.textContent = mapping.resolution;\n    qualityOption.mapping = mapping;\n}\n\nexport function selectResolution(qualityMapping, index, silent = false) {\n    qualityMapping.forEach(mapping => {\n        if (!mapping.option) { return; }\n\n        const hasBitrate = !!mapping.bitrates.find(bitrate => bitrate.bitrateIndex === index);\n        if (hasBitrate) {\n            mapping.option.selected.classList.add('pf-icon_icCheck');\n        } else {\n            mapping.option.selected.classList.remove('pf-icon_icCheck');\n        }\n    });\n\n    return silent ? null : index;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/QualityButton/resolution.js","import BaseElement from './BaseElement';\nimport SeekbarPreview from './SeekBarPreview';\n\nfunction updateBar(element, percentage) {\n    element.style.webkitTransform = `scaleX(${percentage})`; //eslint-disable-line\n    element.style.transform = `scaleX(${percentage})`; //eslint-disable-line\n}\n\nclass SeekBar extends BaseElement {\n    constructor(meister) {\n        super(meister);\n\n        this.isDragging = false;\n\n        this.loadedMetadata = false;\n\n        this.mousedownX = 0;\n        this.pagedownX = 0;\n\n        this.element = document.createElement('div');\n        this.classListAdd(this.element, 'pf-seek-bar-wrapper');\n\n        this.seekBarPadding = document.createElement('div');\n        this.classListAdd(this.seekBarPadding, 'pf-seek-bar-padding');\n        this.element.appendChild(this.seekBarPadding);\n\n        this.seekBarDuration = document.createElement('div');\n        this.classListAdd(this.seekBarDuration, 'pf-seek-bar', 'duration');\n        this.element.appendChild(this.seekBarDuration);\n\n        this.seekBarBuffered = document.createElement('div');\n        this.classListAdd(this.seekBarBuffered, 'pf-seek-bar', 'buffered');\n        this.element.appendChild(this.seekBarBuffered);\n        this.seekBarBuffered.style.transform = 'scaleX(0)';\n\n        this.seekBarFill = document.createElement('div');\n        this.classListAdd(this.seekBarFill, 'pf-seek-bar', 'fill');\n        this.element.appendChild(this.seekBarFill);\n        this.seekBarFill.style.transform = 'scaleX(0)';\n\n        this.seekBarHighlight = document.createElement('div');\n        this.classListAdd(this.seekBarHighlight, 'pf-seek-bar', 'highlight');\n        this.element.appendChild(this.seekBarHighlight);\n        this.seekBarHighlight.style.transform = 'scaleX(0)';\n\n        this.seekBarFigure = document.createElement('div');\n        this.classListAdd(this.seekBarFigure, 'pf-seek-bar-figure');\n        this.seekBarDuration.appendChild(this.seekBarFigure);\n        this.seekBarFigure.style.left = '0%';\n\n        this.preview = new SeekbarPreview(meister);\n        this.seekBarDuration.appendChild(this.preview.getNode());\n\n        this.on('itemTimeInfo', (timeInfo) => this.onItemTimeInfo(timeInfo));\n        this.on('playerTimeUpdate', (e) => this.onTimeUpdate(e));\n        this.on('playerSeek', (e) => this.onPlayerSeek(e));\n        this.on('playerProgress', (e) => this.onPlayerProgress(e));\n        this.on('playerLoadedMetadata', () => { this.loadedMetadata = true; });\n\n        // Ad events.\n        this.points = {};\n        this.on('adCuePoints', (info) => this.onAdCuePoints(info));\n        this.on('adEnded', (info) => this.onAdEnded(info));\n\n        // Mouse hover events.\n        this.seekBarPadding.addEventListener('mouseover', (e) => this.onMouseOver(e));\n        this.seekBarPadding.addEventListener('mousemove', (e) => this.onMouseMove(e));\n        this.seekBarPadding.addEventListener('mouseout', () => this.onMouseOut());\n\n        // Seeking event listeners.\n        this.seekBarPadding.addEventListener('mousedown', (e) => this.onSeekDown(e));\n        this.seekBarPadding.addEventListener('touchstart', (e) => this.onSeekDown(e));\n\n        this.onSeekMove = (e) => {\n            // Prevent the page from moving while scrubbing\n            e.preventDefault();\n\n            // Get the location in the page, hacky for touch events...\n            const normalizedProgress = this.normalizeEventPosition(e);\n\n            if (this.isDragging) {\n                updateBar(this.seekBarFill, normalizedProgress);\n                updateBar(this.seekBarHighlight, normalizedProgress);\n                this.updateFigure(normalizedProgress);\n                this.preview.update(normalizedProgress);\n                this.updateCurrentTime(normalizedProgress);\n            }\n        };\n\n        this.onSeekUp = (e) => {\n            // Do nothing when a second touch ends.\n            if (window.TouchEvent && e instanceof window.TouchEvent && e.touches.length > 0) {\n                return;\n            }\n\n            if (this.isDragging) {\n                // Resume video\n                if (this.wasPlaying) this.meister.play();\n\n                this.isDragging = false;\n\n                // Always hide the preview on mobile.\n                if (window.TouchEvent && e instanceof window.TouchEvent) {\n                    this.preview.hide();\n                } else if (e.target !== this.seekBarPadding) {\n                    this.preview.hide();\n                }\n\n                document.removeEventListener('mousemove', this.onSeekMove);\n                document.removeEventListener('mouseup', this.onSeekUp);\n\n                document.removeEventListener('touchmove', this.onSeekMove);\n                document.removeEventListener('touchend', this.onSeekUp);\n            }\n        };\n    }\n\n    onItemUnloaded() {\n        this.loadedMetadata = false;\n\n        this.seekBarBuffered.style.transform = 'scaleX(0)';\n        this.seekBarHighlight.style.transform = 'scaleX(0)';\n        this.seekBarFill.style.transform = 'scaleX(0)';\n        this.seekBarFigure.style.left = '0%';\n\n        Object.keys(this.points).forEach((adID) => {\n            if (this.points[adID] !== null) {\n                this.points[adID].remove();\n            }\n        });\n\n        this.points = {};\n        this.classListAdd(this.element, 'pf-ui-element-hidden');\n    }\n\n    onItemTimeInfo(timeInfo) {\n        if (timeInfo.isLive && !timeInfo.hasDVR) {\n            this.classListAdd(this.element, 'pf-ui-element-hidden');\n        } else {\n            this.classListRemove(this.element, 'pf-ui-element-hidden');\n        }\n    }\n\n    onTimeUpdate(e) {\n        const normalizedProgress = e.currentTime / e.duration;\n\n        updateBar(this.seekBarFill, normalizedProgress);\n        this.updateFigure(normalizedProgress);\n    }\n\n    onPlayerProgress(e) {\n        if (!e) return;\n\n        const timeRanges = e.buffered;\n        const currentTimeRangeIndex = this.findTimerange(timeRanges);\n\n        // Should we not get an index don't bother updating.\n        if (currentTimeRangeIndex === -1) {\n            return;\n        }\n\n        let duration = this.meister.duration;\n        let targetTime = timeRanges.end(currentTimeRangeIndex);\n\n        if (this.playOffset) {\n            targetTime -= this.playOffset;\n            duration -= this.playOffset;\n        }\n\n        const normalizedProgress = targetTime / duration;\n        updateBar(this.seekBarBuffered, normalizedProgress);\n    }\n\n    // Mouse hover events.\n    onMouseOver(e) {\n        if (window.TouchEvent && e instanceof window.TouchEvent) {\n            this.pagedownX = e.touches[0].pageX;\n            const rect = e.target.getBoundingClientRect();\n            this.mousedownX = this.pagedownX - rect.left;\n        } else {\n            this.mousedownX = e.offsetX;\n            this.pagedownX = e.pageX;\n        }\n\n        this.preview.show();\n    }\n\n    onMouseMove(e) {\n        const normalizedProgress = this.normalizeEventPosition(e);\n\n        updateBar(this.seekBarHighlight, normalizedProgress);\n        this.preview.update(normalizedProgress);\n    }\n\n    onMouseOut() {\n        // Reset the highlight bar.\n        updateBar(this.seekBarHighlight, 0);\n\n        if (!this.isDragging) {\n            this.preview.hide();\n        }\n    }\n\n    // Seeking event handles.\n    onSeekDown(e) {\n        // Prevents user from selecting the page.\n        e.preventDefault();\n\n        // Get the preview to show and update.\n        this.onMouseOver(e);\n        this.onMouseMove(e);\n\n        // Pause video\n        this.wasPlaying = this.meister.playing;\n        this.meister.pause();\n\n        this.isDragging = true;\n\n        // Get the location in the page, hacky for touch events...\n        const normalizedProgress = this.normalizeEventPosition(e);\n\n        updateBar(this.seekBarFill, normalizedProgress);\n        this.updateFigure(normalizedProgress);\n        this.updateCurrentTime(normalizedProgress);\n\n        document.addEventListener('mousemove', this.onSeekMove);\n        document.addEventListener('mouseup', this.onSeekUp);\n\n        document.addEventListener('touchmove', this.onSeekMove);\n        document.addEventListener('touchend', this.onSeekUp);\n    }\n\n    // Player seeked, update the seekbar.\n    onPlayerSeek(e) {\n        const normalizedProgress = e.relativePosition;\n\n        updateBar(this.seekBarFill, normalizedProgress);\n        updateBar(this.seekBarHighlight, normalizedProgress);\n        this.updateFigure(normalizedProgress);\n    }\n\n    // Ad event handles/\n    onAdCuePoints(info) {\n        for (let i = 0; i < info.points.length; i++) {\n            this.setPoint(info.points[i]);\n        }\n    }\n\n    setPoint(time) {\n        const self = this;\n\n        function createPoint(t) {\n            const elem = document.createElement('div');\n            let normalizedProgress = t / self.meister.duration;\n\n            self.meister.elementUtils.classListAdd(elem, 'pf-seek-bar-point', 'pf-ad-point');\n            elem.id = `adpoint-${t}`;\n\n            if (t < 0) {\n                normalizedProgress = 1;\n            }\n\n            const pointPosition = 100 * normalizedProgress;\n            elem.style.left = `${pointPosition}%`;\n\n            self.seekBarDuration.appendChild(elem);\n            self.points[`adpoint-${t}`] = elem;\n        }\n\n        if (!this.loadedMetadata) {\n            this.one('playerLoadedMetadata', () => {\n                createPoint(time);\n            });\n        } else {\n            createPoint(time);\n        }\n    }\n\n    onAdEnded(info) {\n        const adPodInfo = info.ad.getAdPodInfo();\n\n        // Remove it on the end of the first ad in the break, because is simpler.\n        const element = document.getElementById(`adpoint-${adPodInfo.getTimeOffset()}`);\n        delete this.points[`adpoint-${adPodInfo.getTimeOffset()}`];\n\n        if (element !== null) {\n            element.remove();\n        }\n    }\n\n    // 'Private' methods.\n    normalizeEventPosition(e) {\n        let pageX = 0;\n        if (window.TouchEvent && e instanceof window.TouchEvent) {\n            pageX = e.touches[e.touches.length - 1].pageX;\n        } else {\n            pageX = e.pageX;\n        }\n\n        let position = pageX;\n        position = this.mousedownX + (pageX - this.pagedownX);\n\n        let normalizedProgress = position / this.seekBarPadding.offsetWidth;\n\n        // Stay within the boundaries\n        if (normalizedProgress > 1.0) {\n            normalizedProgress = 1.0;\n        } else if (normalizedProgress < 0) {\n            normalizedProgress = 0;\n        }\n\n        return normalizedProgress;\n    }\n\n    updateFigure(percentage) {\n        const figureLeftPercentage = 100 * percentage;\n        this.seekBarFigure.style.left = `${figureLeftPercentage}%`;\n    }\n\n    updateCurrentTime(percentage) {\n        this.meister.trigger('requestSeek', {\n            relativePosition: percentage,\n        });\n    }\n\n    findTimerange(timeRanges) {\n        for (let i = 0; i < timeRanges.length; i++) {\n            if (this.meister.currentTime >= timeRanges.start(i)\n                && this.meister.currentTime <= timeRanges.end(i)\n            ) {\n                return i;\n            }\n        }\n\n        // No range was found\n        return -1;\n    }\n}\n\nexport default SeekBar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/SeekBar.js","import BaseElement from './BaseElement';\n\nclass SeekbarPreview extends BaseElement {\n    constructor(meister) {\n        super(meister);\n\n        this.element = document.createElement('div');\n        this.classListAdd(this.element, 'pf-seek-bar-preview', 'no-preview');\n        this.classListAdd(this.element, 'pf-ui-element-hidden');\n\n        this.seekBarPreviewImage = document.createElement('img');\n        this.classListAdd(this.seekBarPreviewImage, 'pf-seek-bar-preview-image');\n        this.seekBarPreviewImage.src = '';\n        this.element.appendChild(this.seekBarPreviewImage);\n\n        this.seekBarPreviewTime = document.createElement('span');\n        this.seekBarPreviewTime.textContent = '0:00';\n        this.classListAdd(this.seekBarPreviewTime, 'pf-seek-bar-preview-time');\n        this.element.appendChild(this.seekBarPreviewTime);\n\n        this.images = [];\n\n        this.on('itemTimeInfo', (timeInfo) => this.onItemTimeInfo(timeInfo));\n\n        this.on('itemImagestream', (info) => {\n            this.images = info.images;\n            this.classListRemove(this.element, 'no-preview');\n        });\n    }\n\n    onItemUnloaded() {\n        this.isLive = false;\n        this.modifiedDuration = null;\n        // Reset filmstrip\n        this.images = [];\n        this.classListAdd(this.element, 'no-preview');\n    }\n\n    onItemTimeInfo(timeInfo) {\n        // Special case for DASH dvr\n        if (timeInfo.isLive) {\n            this.isLive = true;\n            this.modifiedDuration = timeInfo.duration;\n        }\n    }\n\n    show() {\n        this.classListRemove(this.element, 'pf-ui-element-hidden');\n    }\n\n    hide() {\n        this.classListAdd(this.element, 'pf-ui-element-hidden');\n    }\n\n    update(percentage) {\n        const offsetWidth = this.element.offsetWidth;\n        const offsetParentWidth = this.element.offsetParent.offsetWidth;\n        const rightBoundary = offsetParentWidth - offsetWidth;\n\n        // Calculate how much the preview needs to move to the right.\n        let pixelsRight = (offsetParentWidth * percentage) - (offsetWidth / 2);\n\n        // Make it stay within the player.\n        if (pixelsRight < 0) {\n            pixelsRight = 0;\n        } else if (pixelsRight > rightBoundary) {\n            pixelsRight = rightBoundary;\n        }\n\n        this.element.style.transform = `translate(${pixelsRight}px)`;\n\n        let time = (this.modifiedDuration || this.meister.duration) * percentage;\n        this.seekBarPreviewImage.src = this.getImageByTime(time);\n\n        if (this.modifiedDuration) {\n            time = this.modifiedDuration - time;\n            const timeString = this.meister.utils.timeToHMS(Math.round(time));\n            this.seekBarPreviewTime.textContent = `-${timeString}`;\n        } else {\n            this.seekBarPreviewTime.textContent = this.meister.utils.timeToHMS(Math.round(time));\n        }\n    }\n\n    getImageByTime(time) {\n        if (this.images.length === 0) {\n            return '';\n        }\n\n        for (let i = 0; i < this.images.length; i++) {\n            const image = this.images[i];\n\n            if (image.start <= time && image.end >= time) {\n                return image.src;\n            }\n        }\n\n        return this.images[this.images.length - 1].src;\n    }\n}\n\nexport default SeekbarPreview;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/SeekBarPreview.js","import BaseElement from './BaseElement';\n\nclass Spinner extends BaseElement {\n    constructor(meister) {\n        super(meister);\n\n        this.meister = meister;\n\n        this.element = document.createElement('div');\n        this.classListAdd(this.element, 'pf-spinner-wrapper');\n\n        this.spinner = document.createElement('div');\n        this.classListAdd(this.spinner, 'pf-spinner-loading');\n        this.element.appendChild(this.spinner);\n\n        this.spinnerMessage = document.createElement('div');\n        this.classListAdd(this.spinnerMessage, 'pf-spinner-message');\n        this.element.appendChild(this.spinnerMessage);\n\n        // Register events.\n        this.on('playerBufferedEnough', () => this.hideSpinner(true));\n        this.on('playerPause', () => this.hideSpinner());\n        this.on('itemUnloaded', () => this.hideSpinner());\n        this.on('playerPlay', () => this.hideSpinner());\n        this.on('showLoading', (e) => this.showSpinner(e));\n        this.on('hideLoading', () => this.hideSpinner());\n    }\n\n    showSpinner(e) {\n        this.classListRemove(this.element, 'hidden');\n        this.classListRemove(this.spinner, 'hidden');\n\n        if (e && e.message) {\n            this.spinnerMessage.innerHTML = e.message;\n            this.classListRemove(this.spinnerMessage, 'hidden');\n        } else if (e && e.code) {\n            this.spinnerMessage.innerHTML = this.meister.Localization.get(e.code);\n            this.classListRemove(this.spinnerMessage, 'hidden');\n        }\n    }\n\n    hideSpinner(fromBuffering) {\n        // HACK quick fix so other hides don't hide buffering indicator\n        if (this.spinnerMessage.innerHTML === 'Buffering...' && !fromBuffering) {\n            return;\n        }\n\n        this.classListAdd(this.element, 'hidden');\n        this.classListAdd(this.spinner, 'hidden');\n        this.classListAdd(this.spinnerMessage, 'hidden');\n    }\n}\n\nexport default Spinner;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/Spinner.js","import BaseElement from './BaseElement';\n\nclass StepBackButton extends BaseElement {\n    constructor(meister, config) {\n        super(meister);\n        this.config = config;\n\n        this.element = document.createElement('div');\n        this.classListAdd(this.element, 'pf-ui-element', 'pf-ui-element-left', 'pf-ui-element-active');\n\n        // Default\n        this.classListAdd(this.element, 'pf-icon');\n        this.classListAdd(this.element, 'pf-icon_icStepBackward');\n\n        // Register event listeners\n        this.element.addEventListener('click', () => this.onClick());\n    }\n\n    onClick() {\n        this.meister.trigger('requestSeek', {\n            timeOffset: -1 * this.config.stepBack,\n        });\n    }\n}\n\nexport default StepBackButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/StepBackButton.js","import BaseElement from './BaseElement';\n\nclass StepForwardButton extends BaseElement {\n    constructor(meister, config) {\n        super(meister);\n        this.config = config;\n\n        this.element = document.createElement('div');\n        this.classListAdd(this.element, 'pf-ui-element', 'pf-ui-element-left', 'pf-ui-element-active');\n\n        // Default\n        this.classListAdd(this.element, 'pf-icon');\n        this.classListAdd(this.element, 'pf-icon_icStepForward');\n\n        // Register event listeners\n        this.element.addEventListener('click', () => this.onClick());\n    }\n\n    onClick() {\n        this.meister.trigger('requestSeek', {\n            timeOffset: this.config.stepForward,\n        });\n    }\n}\n\nexport default StepForwardButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/StepForwardButton.js","import BaseElement from './BaseElement';\n\nconst LIVE_THRESHOLD = 35;\n\nclass TimeDisplay extends BaseElement {\n    constructor(meister) {\n        super(meister);\n\n        this.element = document.createElement('div');\n        this.classListAdd(this.element, 'pf-ui-element', 'pf-ui-element-left', 'pf-time-display');\n        // HACK: dirty microsoft\n        if (this.meister.browser.isIE || this.meister.browser.isEdge) {\n            this.classListAdd(this.element, 'microsoft-hack');\n        }\n\n        this.currentTime = document.createElement('span');\n        this.currentTime.innerHTML = '0:00';\n        this.classListAdd(this.currentTime, 'time-display-element');\n\n        this.seperator = document.createElement('span');\n        this.seperator.innerHTML = '/';\n        this.classListAdd(this.seperator, 'time-display-element');\n\n        this.duration = document.createElement('span');\n        this.duration.innerHTML = '0:00';\n        this.classListAdd(this.duration, 'time-display-element');\n        this.duration.addEventListener('click', () => this.meister.trigger('requestGoLive'));\n\n        this.element.appendChild(this.currentTime);\n        this.element.appendChild(this.seperator);\n        this.element.appendChild(this.duration);\n\n        this.isLive = false;\n\n        this.on('itemTimeInfo', (timeInfo) => this.onItemTimeInfo(timeInfo));\n        this.on('playerTimeUpdate', (e) => this.onTimeUpdate(e));\n        this.on('playerSeek', (e) => this.onPlayerSeek(e));\n\n        // Ad variables.\n        this.adTimer = null;\n        this.adDuration = 0;\n    }\n\n    onItemUnloaded() {\n        this.isLive = false;\n        this.classListRemove(this.duration, 'go-live', 'pf-ui-element-active');\n\n        this.currentTime.innerHTML = '-';\n        this.duration.innerHTML = '-';\n    }\n\n    onItemTimeInfo(timeInfo) {\n        if (timeInfo.isLive) {\n            this.isLive = true;\n            this.duration.innerHTML = 'LIVE';\n\n            if (!timeInfo.hasDVR) this.currentTime.innerHTML = '-';\n        } else {\n            this.duration.innerHTML = this.createTimeString(timeInfo.duration);\n        }\n    }\n\n    onTimeUpdate(e) {\n        // Set the duration and current time for VODs\n        if (!this.isLive) {\n            this.currentTime.innerHTML = this.createTimeString(e.currentTime);\n            this.duration.innerHTML = this.createTimeString(e.duration);\n            return;\n        }\n\n        // If a livestream is close enough to the edge display no time.\n        const behindLive = e.duration - e.currentTime;\n\n        if (behindLive < LIVE_THRESHOLD) {\n            this.currentTime.innerHTML = '-';\n            this.classListRemove(this.duration, 'go-live', 'pf-ui-element-active');\n            return;\n        }\n    }\n\n    onPlayerSeek(e) {\n        // Set the duration and current time for VODs\n        if (!this.isLive) {\n            this.currentTime.innerHTML = this.createTimeString(e.currentTime);\n            this.duration.innerHTML = this.createTimeString(e.duration);\n            return;\n        }\n\n        const behindLive = e.duration - e.currentTime;\n        if (behindLive < LIVE_THRESHOLD) {\n            this.currentTime.innerHTML = '-';\n            this.classListRemove(this.duration, 'go-live', 'pf-ui-element-active');\n            return;\n        }\n\n        // Display the amount of time the player is behind live.\n        const timeString = this.createTimeString(behindLive);\n        this.currentTime.innerHTML = `-${timeString}`;\n\n        // Activate the go live button.\n        this.classListAdd(this.duration, 'go-live', 'pf-ui-element-active');\n    }\n\n    createTimeString(time) {\n        let roundTime = Math.round(time);\n        if (roundTime < 0) {\n            roundTime = 0;\n        }\n\n        return this.meister.utils.timeToHMS(roundTime);\n    }\n}\n\nexport default TimeDisplay;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/TimeDisplay.js","import BaseElement from './BaseElement';\n\nclass VolumeSlider extends BaseElement {\n    constructor(meister) {\n        super(meister);\n\n        this.isDragging = false;\n        this.mousedownX = 0;\n        this.pagedownX = 0;\n\n        this.element = document.createElement('div');\n        this.classListAdd(this.element, 'pf-ui-element', 'pf-ui-element-left');\n        // Can't control volume on iOS when it's not playing inline\n        if (this.meister.browser.isiOS && !this.meister.config.iosPlaysInline) {\n            this.classListAdd(this.element, 'pf-ui-element-inactive');\n        } else {\n            this.classListAdd(this.element, 'pf-ui-element-active');\n        }\n\n        this.volumeButton = document.createElement('div');\n        this.classListAdd(this.volumeButton, 'pf-volume-button');\n        this.classListAdd(this.volumeButton, 'pf-icon', 'pf-icon_icVol0');\n        this.element.appendChild(this.volumeButton);\n\n        this.sliderWrapper = document.createElement('div');\n        this.classListAdd(this.sliderWrapper, 'pf-volume-slider-wrapper');\n        this.element.appendChild(this.sliderWrapper);\n\n        this.volumeBar = document.createElement('div');\n        this.classListAdd(this.volumeBar, 'pf-volume-slider', 'close');\n        this.sliderWrapper.appendChild(this.volumeBar);\n\n        this.volumeBarFill = document.createElement('div');\n        this.classListAdd(this.volumeBarFill, 'pf-volume-slider-fill');\n        this.volumeBar.appendChild(this.volumeBarFill);\n\n        this.volumeBarFigure = document.createElement('div');\n        this.classListAdd(this.volumeBarFigure, 'pf-volume-slider-figure');\n        this.volumeBar.appendChild(this.volumeBarFigure);\n\n        // Add volume event listeners.\n        this.on('playerVolumeChange', () => this.onVolumeChange());\n        this.on('playerLoadedMetadata', () => this.onVolumeChange());\n\n        // Add mouse event listeners\n        this.volumeButton.addEventListener('click', () => this.onClick());\n\n        this.element.addEventListener('mouseover', () => this.showSlider(true));\n        this.element.addEventListener('mouseleave', () => this.showSlider(false));\n\n        this.sliderWrapper.addEventListener('mousedown', (e) => this.onDown(e));\n        this.sliderWrapper.addEventListener('touchstart', (e) => this.onDown(e));\n\n        this.onMove = (e) => {\n            if (this.isDragging) {\n                this.updateBar(e);\n            }\n        };\n\n        this.onUp = (e) => {\n            if (this.isDragging) {\n                this.isDragging = false;\n\n                if (e.target !== this.sliderWrapper) {\n                    this.showSlider(false);\n                }\n\n                document.removeEventListener('mousemove', this.onMove);\n                document.removeEventListener('mouseup', this.onUp);\n\n                document.addEventListener('touchmove', this.onMove);\n                document.addEventListener('touchend', this.onUp);\n            }\n        };\n    }\n\n    onDown(e) {\n        // Prevents user from selecting the page.\n        e.preventDefault();\n\n        this.isDragging = true;\n\n        if (window.TouchEvent && e instanceof window.TouchEvent) {\n            this.pagedownX = e.touches[0].pageX;\n            const rect = e.target.getBoundingClientRect();\n            this.mousedownX = this.pagedownX - rect.left;\n        } else {\n            this.mousedownX = e.offsetX;\n            this.pagedownX = e.pageX;\n        }\n\n        this.updateBar(e);\n\n        document.addEventListener('mousemove', this.onMove);\n        document.addEventListener('mouseup', this.onUp);\n\n        document.addEventListener('touchmove', this.onMove);\n        document.addEventListener('touchend', this.onUp);\n    }\n\n    showSlider(on) {\n        if (this.isDragging) {\n            return;\n        }\n\n        if (on) {\n            this.classListAdd(this.volumeBar, 'open');\n            this.classListRemove(this.volumeBar, 'close');\n        } else {\n            this.classListRemove(this.volumeBar, 'open');\n            this.classListAdd(this.volumeBar, 'close');\n        }\n    }\n\n    onClick() {\n        this.meister.muted = !this.meister.muted;\n        this.meister.trigger('playerVolumeChange');\n    }\n\n    onVolumeChange() {\n        let normalizedProgress = this.meister.volume;\n\n        if (this.meister.muted) {\n            normalizedProgress = 0;\n        }\n\n        this.volumeBarFill.style.transform = `scaleX(${normalizedProgress})`;\n        const leftPercentage = 100 * normalizedProgress;\n        this.volumeBarFigure.style.left = `${leftPercentage}%`;\n\n        this.updateIcon();\n    }\n\n    updateBar(e) {\n        // Stop muting when the user changes the volume.\n        this.meister.muted = false;\n\n        let volume = this.normalizeEventPosition(e);\n\n        if (volume > 1) {\n            volume = 1;\n        } else if (volume < 0) {\n            volume = 0;\n        }\n\n        this.meister.volume = volume;\n    }\n\n    clearIcons() {\n        for (let i = 0; i <= 3; i++) {\n            this.classListRemove(this.volumeButton, `pf-icon_icVol${i}`);\n        }\n    }\n\n    updateIcon() {\n        this.clearIcons();\n\n        const volume = this.meister.volume;\n        let iconNum = 0;\n\n        if (this.meister.muted) {\n            iconNum = 0;\n        } else if (volume <= 0.25 && volume >= 0.01) {\n            iconNum = 1;\n        } else if (volume >= 0.25 && volume <= 0.66) {\n            iconNum = 2;\n        } else if (volume >= 0.66 && volume <= 1) {\n            iconNum = 3;\n        }\n\n        this.classListAdd(this.volumeButton, `pf-icon_icVol${iconNum}`);\n    }\n\n    normalizeEventPosition(e) {\n        let pageX = 0;\n        if (window.TouchEvent && e instanceof window.TouchEvent) {\n            pageX = e.touches[e.touches.length - 1].pageX;\n        } else {\n            pageX = e.pageX;\n        }\n\n        let position = pageX;\n        position = this.mousedownX + (pageX - this.pagedownX);\n\n        let normalizedProgress = position / this.volumeBar.offsetWidth;\n\n        // Stay within the boundaries\n        if (normalizedProgress > 1.0) {\n            normalizedProgress = 1.0;\n        } else if (normalizedProgress < 0) {\n            normalizedProgress = 0;\n        }\n\n        return normalizedProgress;\n    }\n}\n\nexport default VolumeSlider;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/VolumeSlider.js","import CaptionsButton from './CaptionsButton';\nimport FullscreenButton from './FullscreenButton';\nimport PlayButton from './PlayButton';\nimport PlaylistButtons from './PlaylistButtons';\nimport QualityButton from './QualityButton';\nimport SeekBar from './SeekBar';\nimport Spinner from './Spinner';\nimport StepBackButton from './StepBackButton';\nimport StepForwardButton from './StepForwardButton';\nimport TimeDisplay from './TimeDisplay';\nimport VolumeSlider from './VolumeSlider';\n\nexport default function createStandardElement(meister, config, name) {\n    switch (name) {\n    case 'captionsbutton':\n        return new CaptionsButton(meister, config);\n    case 'fullscreenbutton':\n        return new FullscreenButton(meister, config);\n    case 'playbutton':\n        return new PlayButton(meister, config);\n    case 'playlistbuttons':\n        return new PlaylistButtons(meister, config);\n    case 'qualitybutton':\n        return new QualityButton(meister, config);\n    case 'seekbar':\n        return new SeekBar(meister, config);\n    case 'spinner':\n        return new Spinner(meister, config);\n    case 'stepbackbutton':\n        return new StepBackButton(meister, config);\n    case 'stepforwardbutton':\n        return new StepForwardButton(meister, config);\n    case 'timedisplay':\n        return new TimeDisplay(meister, config);\n    case 'volumeslider':\n        return new VolumeSlider(meister, config);\n    default:\n        return null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/standard/createStandardElement.js","module.exports = {\n\t\"name\": \"@meisterplayer/plugin-customui\",\n\t\"version\": \"5.1.0\",\n\t\"description\": \"Build a custom ui from scratch or use preconfigured elements.\",\n\t\"main\": \"index.js\",\n\t\"scripts\": {\n\t\t\"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n\t},\n\t\"keywords\": [\n\t\t\"meister\",\n\t\t\"plugin\",\n\t\t\"ui\",\n\t\t\"custom\"\n\t],\n\t\"author\": \"Triple\",\n\t\"license\": \"Apache-2.0\",\n\t\"devDependencies\": {\n\t\t\"gulp\": \"^3.9.1\",\n\t\t\"meister-gulp-webpack-tasks\": \"^1.0.7\",\n\t\t\"meister-js-dev\": \"^3.1.0\",\n\t\t\"yargs\": \"^8.0.1\"\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 23\n// module chunks = 0"],"sourceRoot":""}